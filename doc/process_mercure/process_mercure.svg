<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="591px" preserveAspectRatio="none" style="width:2450px;height:591px;background:#FFFFFF;" version="1.1" viewBox="0 0 2450 591" width="2450px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="722.9468" x="1721.6118" y="360.4922"/><g><title>API .Controller.Action.</title><rect fill="#000000" fill-opacity="0.00000" height="429.8594" width="8" x="81.752" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="85" x2="85" y1="81.2969" y2="511.1563"/></g><g><title>ProcessInitiation .JSON.</title><rect fill="#000000" fill-opacity="0.00000" height="429.8594" width="8" x="381.6147" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="385.0093" x2="385.0093" y1="81.2969" y2="511.1563"/></g><g><title>Messenger Send .AddProcessStamp.</title><rect fill="#000000" fill-opacity="0.00000" height="429.8594" width="8" x="617.0195" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="620.2202" x2="620.2202" y1="81.2969" y2="511.1563"/></g><g><title>Queue.Broker</title><rect fill="#000000" fill-opacity="0.00000" height="429.8594" width="8" x="818.3745" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="821.8188" x2="821.8188" y1="81.2969" y2="511.1563"/></g><g><title>Messenger Receive .ProcessLoadedEvent.</title><rect fill="#000000" fill-opacity="0.00000" height="429.8594" width="8" x="1039.123" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1042.9302" x2="1042.9302" y1="81.2969" y2="511.1563"/></g><g><title>PresentOnLoaded .Listener.</title><rect fill="#000000" fill-opacity="0.00000" height="429.8594" width="8" x="1309.3193" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1313.3159" x2="1313.3159" y1="81.2969" y2="511.1563"/></g><g><title>AttachStateChangeOnLoaded .Listener.</title><rect fill="#000000" fill-opacity="0.00000" height="429.8594" width="8" x="1570.9673" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1574.3228" x2="1574.3228" y1="81.2969" y2="511.1563"/></g><g><title>UseCase.Handler</title><rect fill="#000000" fill-opacity="0.00000" height="429.8594" width="8" x="1794.7407" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1798.6118" x2="1798.6118" y1="81.2969" y2="511.1563"/></g><g><title>ProcessProgressCompletion</title><rect fill="#000000" fill-opacity="0.00000" height="429.8594" width="8" x="1976.0972" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1979.8696" x2="1979.8696" y1="81.2969" y2="511.1563"/></g><g><title>ProcessFinalizeCompletion</title><rect fill="#000000" fill-opacity="0.00000" height="429.8594" width="8" x="2190.8164" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2194.3247" x2="2194.3247" y1="81.2969" y2="511.1563"/></g><g><title>Mercure Hub</title><rect fill="#000000" fill-opacity="0.00000" height="429.8594" width="8" x="2382.4961" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2386.4336" x2="2386.4336" y1="81.2969" y2="511.1563"/></g><g class="participant participant-head" data-participant="API"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.5039" x="5" y="77.9951">API (Controller/Action)</text><ellipse cx="85.752" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M85.752,21.5 L85.752,48.5 M72.752,29.5 L98.752,29.5 M85.752,48.5 L72.752,63.5 M85.752,48.5 L98.752,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="API"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155.5039" x="5" y="523.1514">API (Controller/Action)</text><ellipse cx="85.752" cy="534.9531" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M85.752,542.9531 L85.752,569.9531 M72.752,550.9531 L98.752,550.9531 M85.752,569.9531 L72.752,584.9531 M85.752,569.9531 L98.752,584.9531" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="PI"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179.2109" x="296.0093" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165.2109" x="303.0093" y="69.9951">ProcessInitiation (JSON)</text></g><g class="participant participant-tail" data-participant="PI"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179.2109" x="296.0093" y="510.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165.2109" x="303.0093" y="530.1514">ProcessInitiation (JSON)</text></g><g class="participant participant-head" data-participant="MBs"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271.5986" x="485.2202" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257.5986" x="492.2202" y="69.9951">Messenger Send (AddProcessStamp)</text></g><g class="participant participant-tail" data-participant="MBs"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271.5986" x="485.2202" y="510.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257.5986" x="492.2202" y="530.1514">Messenger Send (AddProcessStamp)</text></g><g class="participant participant-head" data-participant="MQ"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.1113" x="766.8188" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.1113" x="773.8188" y="69.9951">Queue/Broker</text></g><g class="participant participant-tail" data-participant="MQ"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111.1113" x="766.8188" y="510.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.1113" x="773.8188" y="530.1514">Queue/Broker</text></g><g class="participant participant-head" data-participant="MBr"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="310.3857" x="887.9302" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="296.3857" x="894.9302" y="69.9951">Messenger Receive (ProcessLoadedEvent)</text></g><g class="participant participant-tail" data-participant="MBr"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="310.3857" x="887.9302" y="510.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="296.3857" x="894.9302" y="530.1514">Messenger Receive (ProcessLoadedEvent)</text></g><g class="participant participant-head" data-participant="L1"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="210.0068" x="1208.3159" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.0068" x="1215.3159" y="69.9951">PresentOnLoaded (Listener)</text></g><g class="participant participant-tail" data-participant="L1"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="210.0068" x="1208.3159" y="510.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.0068" x="1215.3159" y="530.1514">PresentOnLoaded (Listener)</text></g><g class="participant participant-head" data-participant="L2"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="293.2891" x="1428.3228" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279.2891" x="1435.3228" y="69.9951">AttachStateChangeOnLoaded (Listener)</text></g><g class="participant participant-tail" data-participant="L2"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="293.2891" x="1428.3228" y="510.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279.2891" x="1435.3228" y="530.1514">AttachStateChangeOnLoaded (Listener)</text></g><g class="participant participant-head" data-participant="UC"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.2578" x="1731.6118" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.2578" x="1738.6118" y="69.9951">UseCase/Handler</text></g><g class="participant participant-tail" data-participant="UC"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.2578" x="1731.6118" y="510.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.2578" x="1738.6118" y="530.1514">UseCase/Handler</text></g><g class="participant participant-head" data-participant="PCp"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="208.4551" x="1875.8696" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194.4551" x="1882.8696" y="69.9951">ProcessProgressCompletion</text></g><g class="participant participant-tail" data-participant="PCp"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="208.4551" x="1875.8696" y="510.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194.4551" x="1882.8696" y="530.1514">ProcessProgressCompletion</text></g><g class="participant participant-head" data-participant="FC"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200.9834" x="2094.3247" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.9834" x="2101.3247" y="69.9951">ProcessFinalizeCompletion</text></g><g class="participant participant-tail" data-participant="FC"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="200.9834" x="2094.3247" y="510.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.9834" x="2101.3247" y="530.1514">ProcessFinalizeCompletion</text></g><g class="participant participant-head" data-participant="HUB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.125" x="2338.4336" y="77.9951">Mercure Hub</text><path d="M2368.4961,29 C2368.4961,19 2386.4961,19 2386.4961,19 C2386.4961,19 2404.4961,19 2404.4961,29 L2404.4961,55 C2404.4961,65 2386.4961,65 2386.4961,65 C2386.4961,65 2368.4961,65 2368.4961,55 L2368.4961,29" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M2368.4961,29 C2368.4961,39 2386.4961,39 2386.4961,39 C2386.4961,39 2404.4961,39 2404.4961,29" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="HUB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.125" x="2338.4336" y="523.1514">Mercure Hub</text><path d="M2368.4961,536.4531 C2368.4961,526.4531 2386.4961,526.4531 2386.4961,526.4531 C2386.4961,526.4531 2404.4961,526.4531 2404.4961,536.4531 L2404.4961,562.4531 C2404.4961,572.4531 2386.4961,572.4531 2386.4961,572.4531 C2386.4961,572.4531 2368.4961,572.4531 2368.4961,562.4531 L2368.4961,536.4531" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M2368.4961,536.4531 C2368.4961,546.4531 2386.4961,546.4531 2386.4961,546.4531 C2386.4961,546.4531 2404.4961,546.4531 2404.4961,536.4531" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="message" data-participant-1="API" data-participant-2="PI"><polygon fill="#181818" points="373.6147,108.4297,383.6147,112.4297,373.6147,116.4297,377.6147,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.752" x2="379.6147" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275.8628" x="92.752" y="107.3638">Cr&#233;er Process (initiated) + pr&#233;senter JSON</text></g><g class="message" data-participant-1="PI" data-participant-2="API"><polygon fill="#181818" points="96.752,137.5625,86.752,141.5625,96.752,145.5625,92.752,141.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="90.752" x2="384.6147" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.9238" x="102.752" y="136.4966">ViewModel JSON (topic/id)</text></g><g class="message" data-participant-1="API" data-participant-2="MBs"><polygon fill="#181818" points="609.0195,166.6953,619.0195,170.6953,609.0195,174.6953,613.0195,170.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="85.752" x2="615.0195" y1="170.6953" y2="170.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230.8706" x="92.752" y="165.6294">Dispatch message + ProcessStamp</text></g><g class="message" data-participant-1="MBs" data-participant-2="MQ"><polygon fill="#181818" points="810.3745,195.8281,820.3745,199.8281,810.3745,203.8281,814.3745,199.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="621.0195" x2="816.3745" y1="199.8281" y2="199.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57.1797" x="628.0195" y="194.7622">Enqueue</text></g><g class="message" data-participant-1="MQ" data-participant-2="MBr"><polygon fill="#181818" points="1031.123,224.9609,1041.123,228.9609,1031.123,232.9609,1035.123,228.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="822.3745" x2="1037.123" y1="228.9609" y2="228.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.7349" x="829.3745" y="223.895">Dequeue</text></g><g class="message" data-participant-1="MBr" data-participant-2="L1"><polygon fill="#181818" points="1301.3193,254.0938,1311.3193,258.0938,1301.3193,262.0938,1305.3193,258.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1043.123" x2="1307.3193" y1="258.0938" y2="258.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.9648" x="1050.123" y="253.0278">Dispatch ProcessLoadedEvent</text></g><g class="message" data-participant-1="MBr" data-participant-2="L2"><polygon fill="#181818" points="1562.9673,283.2266,1572.9673,287.2266,1562.9673,291.2266,1566.9673,287.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1043.123" x2="1568.9673" y1="287.2266" y2="287.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.9648" x="1050.123" y="282.1606">Dispatch ProcessLoadedEvent</text></g><g class="message" data-participant-1="L1" data-participant-2="UC"><polygon fill="#181818" points="1786.7407,312.3594,1796.7407,316.3594,1786.7407,320.3594,1790.7407,316.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1313.3193" x2="1792.7407" y1="316.3594" y2="316.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.2827" x="1320.3193" y="311.2935">Provider Mercure pr&#234;t</text></g><g class="message" data-participant-1="L2" data-participant-2="UC"><polygon fill="#181818" points="1786.7407,341.4922,1796.7407,345.4922,1786.7407,349.4922,1790.7407,345.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1574.9673" x2="1792.7407" y1="345.4922" y2="345.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.3125" x="1581.9673" y="340.4263">Callbacks Process attach&#233;s</text></g><path d="M1721.6118,360.4922 L1798.2358,360.4922 L1798.2358,367.625 L1788.2358,377.625 L1721.6118,377.625 L1721.6118,360.4922" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="722.9468" x="1721.6118" y="360.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="1736.6118" y="373.5591">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="96.2446" x="1813.2358" y="372.7026">[Boucle m&#233;tier]</text><g class="message" data-participant-1="UC" data-participant-2="PCp"><polygon fill="#181818" points="1968.0972,394.7578,1978.0972,398.7578,1968.0972,402.7578,1972.0972,398.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1798.7407" x2="1974.0972" y1="398.7578" y2="398.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66.8345" x="1805.7407" y="393.6919">progress()</text></g><g class="message" data-participant-1="PCp" data-participant-2="HUB"><polygon fill="#181818" points="2374.4961,423.8906,2384.4961,427.8906,2374.4961,431.8906,2378.4961,427.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1980.0972" x2="2380.4961" y1="427.8906" y2="427.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264.4878" x="1987.0972" y="422.8247">Publish &#233;tat; peut inclure l&#8217;item en cours</text></g><g class="message" data-participant-1="UC" data-participant-2="FC"><polygon fill="#181818" points="2182.8164,460.0234,2192.8164,464.0234,2182.8164,468.0234,2186.8164,464.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1798.7407" x2="2188.8164" y1="464.0234" y2="464.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.8306" x="1805.7407" y="458.9575">finalize(success|failed)</text></g><g class="message" data-participant-1="FC" data-participant-2="HUB"><polygon fill="#181818" points="2374.4961,489.1563,2384.4961,493.1563,2374.4961,497.1563,2378.4961,493.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="2194.8164" x2="2380.4961" y1="493.1563" y2="493.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.6797" x="2201.8164" y="488.0903">Publish final et/ou erreurs</text></g><!--SRC=[XPD1RXen58RtFiKJgq5LXSAIIfN03KegQA28x1_s2rWnjcjxg5HrqMlq2EarSfEUfCypGqGdKhiQZVtzlv__VmPLzX6cgrl018FohAHtENfhAOwcAXllXWCHC6QZJ42NeMDNqIjAwTQPRB1WK7tSt7tgmSjPQkWbe-Js5653JaCrrReps6GyXhvgtOZMDTKqcaN_IB5l6tksdqcHEH5KdUt2eoPzVIANU-QBgsv-Occ-Soq9rSAaJ8vY7n-tqUICwi33Pf87v2F_AzpAHhXD937Hw0QTjlrxh6Iu39CVUnuhINyCbageV-DpUKdFZKDhlj4bhJ7ZZe-3c-siIoYgEl9xlHi8KGf- -vuhd82Cpq-SM-S5bMcB93s4Dn1uiwJ3G2bL51dhfaLuR-ZhqckopHPKsGUZHaOFp-xS-GG-c1GmgmCSsHttnAQNXOloOHHsFO5hzwKKBRZrHXrPJTqIzynhYwiBmzS5ls3ZVsFSF5DREIcR9wFvTkTu-CA_61YV0OdMxb0zffU0iFa0E1OXhFS1PhvMbk3u_9GDHG6bxnAj31DsQtkiXhnUEkODBeJFhNVMf0Em2FCx25HdC4xPCeBz_UEdoNG4Sg1y7PFWFqM8rdRECprqVLUfLcMaxmzeBFSbvlBL0GqBb4U-1egHsEuF]--></g></svg>